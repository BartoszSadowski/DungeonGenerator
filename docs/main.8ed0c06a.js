parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"EQ3V":[function(require,module,exports) {
"use strict";var e,t,o,E,n,r;Object.defineProperty(exports,"__esModule",{value:!0}),exports.EventTypes=exports.StorageItems=exports.RoomType=exports.Modifiers=exports.Items=exports.SPRITE_TYPES=exports.Directions=exports.AXIS=void 0,exports.AXIS={VERTICAL:"VERTICAL",HORIZONTAL:"HORIZONTAL",UNDEFINED:"UNDEFINED"},function(e){e.Up="UP",e.Down="DOWN",e.Left="LEFT",e.Right="RIGHT",e.Default="UP",e.Center="CENTER",e.Floor="FLOOR"}(e=exports.Directions||(exports.Directions={})),exports.SPRITE_TYPES={BASE:"BASE",WALL:"WALL",DOOR:"DOOR",ENTERANCE:"ENTERANCE",EXIT:"EXIT",EVENT_A:"EVENT_A",EVENT_B:"EVENT_B",EVENT_C:"EVENT_C",EVENT_D:"EVENT_D",EVENT_E:"EVENT_E"},function(e){e.Empty="",e.Door="D",e.Wall="W",e.Floor="F",e.Enterance="E",e.Exit="X",e.Event="e"}(t=exports.Items||(exports.Items={})),function(e){e.None="",e.Variant="V"}(o=exports.Modifiers||(exports.Modifiers={})),function(e){e.Default="Default",e.Dungeon="Dungeon",e.Entrance="Entrance",e.Exit="Exit",e.Event="Event"}(E=exports.RoomType||(exports.RoomType={})),function(e){e.Dungeon="Dungeon",e.Config="Config"}(n=exports.StorageItems||(exports.StorageItems={})),function(e){e.Default="Default",e.Enemy="Enemy",e.Item="Item"}(r=exports.EventTypes||(exports.EventTypes={}));
},{}],"M5ms":[function(require,module,exports) {
"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}Object.defineProperty(exports,"__esModule",{value:!0});var n=require("./dictionary"),r=function(){function t(i,n){e(this,t),this.x=i,this.y=n}return i(t,[{key:"rescale",value:function(e){return new t(this.x*e,this.y*e)}},{key:"move",value:function(e,i){return new t(this.x+e,this.y+i)}},{key:"isBetween",value:function(e,t){var i=Math.max(e.x,t.x),n=Math.min(e.x,t.x),r=Math.max(e.y,t.y),s=Math.min(e.y,t.y);return this.x<=i&&this.x>=n&&this.y<=r&&this.y>=s}},{key:"isSame",value:function(e){return this.x===e.x&&this.y===e.y}},{key:"getDirection",value:function(e){return[[this.isSame(e),n.Directions.Center],[this.x>e.x,n.Directions.Left],[this.x<e.x,n.Directions.Right],[this.y>e.y,n.Directions.Up],[this.y<e.y,n.Directions.Down],[!0,n.Directions.Default]].find(function(e){return e[0]})[1]}}]),t}();exports.default=r;
},{"./dictionary":"EQ3V"}],"QE3u":[function(require,module,exports) {
"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}Object.defineProperty(exports,"__esModule",{value:!0});var i=require("../../utils/dictionary"),a=function(){function t(){e(this,t),this.item=i.Items.Empty,this.modifiers={}}return r(t,[{key:"isEmpty",value:function(){return this.item===i.Items.Empty}},{key:"set",value:function(e){return this.item=e,this}},{key:"setModifier",value:function(e,t){return this.modifiers[e]=t,this}},{key:"draw",value:function(e,t,r,a,s){var E="";switch(this.item){case i.Items.Floor:E=i.SPRITE_TYPES.BASE;break;case i.Items.Wall:E=i.SPRITE_TYPES.WALL;break;case i.Items.Door:E=i.SPRITE_TYPES.DOOR;break;case i.Items.Exit:E=i.SPRITE_TYPES.EXIT;break;case i.Items.Enterance:E=i.SPRITE_TYPES.ENTERANCE;break;case i.Items.Event:switch(this.modifiers[i.Modifiers.Variant]){case 1:E=i.SPRITE_TYPES.EVENT_B;break;case 2:E=i.SPRITE_TYPES.EVENT_C;break;case 3:E=i.SPRITE_TYPES.EVENT_D;break;case 4:E=i.SPRITE_TYPES.EVENT_E;break;case 0:default:E=i.SPRITE_TYPES.EVENT_A}}""!==E&&a.get(E).draw(e,t,r,s)}}]),t}();exports.default=a;
},{"../../utils/dictionary":"EQ3V"}],"wrCU":[function(require,module,exports) {
"use strict";function t(t,n){return o(t)||i(t,n)||r(t,n)||e()}function e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function r(t,e){if(t){if("string"==typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function i(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(u){i=!0,o=u}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}function o(t){if(Array.isArray(t))return t}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function u(t,e,r){return e&&s(t.prototype,e),r&&s(t,r),t}var c=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var l=c(require("./item")),f=require("../../utils/dictionary"),h=function(){function e(){a(this,e),this.top=new l.default,this.left=new l.default,this.right=new l.default,this.bottom=new l.default,this.center=new l.default,this.floor=new l.default}return u(e,[{key:"addModifier",value:function(t,e,r){return this.get(t).setModifier(e,r)}},{key:"set",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=this.get(e);return r||n.isEmpty()?n.set(t):n}},{key:"get",value:function(t){var e;switch(t){case f.Directions.Default:case f.Directions.Up:e=this.top;break;case f.Directions.Down:e=this.bottom;break;case f.Directions.Left:e=this.left;break;case f.Directions.Right:e=this.right;break;case f.Directions.Center:e=this.center;break;case f.Directions.Floor:e=this.floor}return e}},{key:"has",value:function(t,e){return t===this.get(e).item}},{key:"draw",value:function(e,r,n,i){[[this.floor,f.Directions.Up],[this.top,f.Directions.Up],[this.bottom,f.Directions.Down],[this.left,f.Directions.Left],[this.right,f.Directions.Right],[this.center,f.Directions.Center]].reduce(function(o,a){var s=t(a,2),u=s[0],c=s[1];return u.draw(e,r,n,i,c),o},0)}}]),e}();exports.default=h;
},{"./item":"QE3u","../../utils/dictionary":"EQ3V"}],"htcN":[function(require,module,exports) {
"use strict";function e(){var e=exports.getRandomValue(0,255),t=exports.getRandomValue(0,255),o=exports.getRandomValue(0,255);return"rgb(".concat(e,",").concat(t,",").concat(o,")")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getRandomColor=exports.getValueWithTendency=exports.getRandomValue=void 0,exports.getRandomValue=function(e,t){return e+Math.floor(Math.random()*(t-e+1))},exports.getValueWithTendency=function(e,t,o,n){return exports.getRandomValue(1,e+t)>e?n:o},exports.getRandomColor=e;
},{}],"B1jJ":[function(require,module,exports) {
"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function i(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var r=n(require("../../utils/point")),o=n(require("./roomItem")),u=require("../../utils/dictionary"),s=require("../../utils/random"),a=function(){function e(i){t(this,e),this.POINT_NOT_IN_MAP="Point not in map",this.NON_POINT_MATCHED="Point not found",this.map=[];for(var n=0;n<i.height;n++){this.map.push([]);for(var r=0;r<i.width;r++)this.map[n].push(new o.default)}this.dimensions=i}return i(e,[{key:"get",value:function(t){if(t.y<this.dimensions.height&&t.y>=0&&t.x<this.dimensions.width&&t.x>=0)return{item:this.map[t.y][t.x],point:t};throw new Error(this.POINT_NOT_IN_MAP)}},{key:"set",value:function(t,e,i,n,r){this.map[t.y][t.x].set(e,i),n&&this.map[t.y][t.x].addModifier(i,n,r)}},{key:"onEach",value:function(t){this.map.reduce(function(e,i,n){return i.reduce(function(e,i,r){return t(i,r,n),e},0),e},0)}},{key:"getNeighbours",value:function(t,e){var i=this,n=t.x,o=t.y;return[new r.default(n+1,o),new r.default(n-1,o),new r.default(n,o+1),new r.default(n,o-1)].filter(function(t){return!e||!t.isSame(e)}).filter(function(t){return t.x>=0&&t.y>=0&&t.x<i.dimensions.width&&t.y<i.dimensions.height}).map(function(t){return i.get(t)})}},{key:"findShortestRoute",value:function(t,e,i){var n=this;if(this.get(t).item.get(i).item===e)return[];for(var r=this.getNeighbours(t,t).map(function(e){return Object.assign(Object.assign({},e),{route:[t,e.point]})}),o=this.dimensions.width+this.dimensions.height;o;){for(var u=0;u<r.length;u++)if(r[u].item.get(i).item===e)return r[u].route;r=r.reduce(function(t,e){return t.concat(n.getNeighbours(e.point,e.point).map(function(t){return Object.assign(Object.assign({},t),{route:e.route.concat(t.point)})}))},[]),o-=1}throw new Error("Element not found")}},{key:"getPossiblyNonEdgePoint",value:function(){for(var t=1e4,e=[];t;){t-=1;var i=new r.default(s.getRandomValue(0,this.dimensions.width-1),s.getRandomValue(0,this.dimensions.height-1));if(this.get(i).item.has(u.Items.Floor,u.Directions.Floor)){var n=this.getNeighbours(i);if(n.length<4)e.push(i);else if(n.every(function(t){return t.item.has(u.Items.Floor,u.Directions.Floor)}))return i}}if(e)return e[0];throw new Error(this.NON_POINT_MATCHED)}}]),e}();exports.default=a;
},{"../../utils/point":"M5ms","./roomItem":"wrCU","../../utils/dictionary":"EQ3V","../../utils/random":"htcN"}],"d4El":[function(require,module,exports) {
"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var e=function e(i,n){t(this,e),this.width=i,this.height=n};exports.default=e;
},{}],"rVWC":[function(require,module,exports) {
"use strict";function t(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function i(t,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function n(t,n,e){return n&&i(t.prototype,n),e&&i(t,e),t}var e=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var o=e(require("./dimensions")),s=require("./dictionary"),h=function(){function i(n,e){t(this,i),this.point1=n,this.point2=e}return n(i,[{key:"rescale",value:function(t){return new i(this.point1.rescale(t),this.point2.rescale(t))}},{key:"contains",value:function(t){return this.hasPoint(t.point1)&&this.hasPoint(t.point2)&&t.point1.isBetween(this.point1,this.point2)&&t.point2.isBetween(this.point1,this.point2)}},{key:"hasPoint",value:function(t){var i=this.point2.x-this.point1.x,n=this.point2.y-this.point1.y;return(t.y-this.point1.y)*i-n*(t.x-this.point1.x)==0}},{key:"draw",value:function(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16;i.draw(t,this.point1,new o.default(this.width||this.height,this.width||this.height),this.axis===s.AXIS.HORIZONTAL?s.Directions.Up:s.Directions.Left).draw(t,this.axis===s.AXIS.HORIZONTAL?this.point1.move(0,-n):this.point1.move(-n,0),new o.default(this.width||this.height,this.width||this.height),this.axis===s.AXIS.HORIZONTAL?s.Directions.Down:s.Directions.Right)}},{key:"axis",get:function(){return this.point1.x===this.point2.x?s.AXIS.VERTICAL:this.point1.y===this.point2.y?s.AXIS.HORIZONTAL:s.AXIS.UNDEFINED}},{key:"width",get:function(){return Math.abs(this.point1.x-this.point2.x)}},{key:"height",get:function(){return Math.abs(this.point1.y-this.point2.y)}}]),i}();exports.default=h;
},{"./dimensions":"d4El","./dictionary":"EQ3V"}],"Iqig":[function(require,module,exports) {
"use strict";function i(i,n){return r(i)||o(i,n)||e(i,n)||t()}function t(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function e(i,t){if(i){if("string"==typeof i)return n(i,t);var e=Object.prototype.toString.call(i).slice(8,-1);return"Object"===e&&i.constructor&&(e=i.constructor.name),"Map"===e||"Set"===e?Array.from(i):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?n(i,t):void 0}}function n(i,t){(null==t||t>i.length)&&(t=i.length);for(var e=0,n=new Array(t);e<t;e++)n[e]=i[e];return n}function o(i,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(i)){var e=[],n=!0,o=!1,r=void 0;try{for(var s,a=i[Symbol.iterator]();!(n=(s=a.next()).done)&&(e.push(s.value),!t||e.length!==t);n=!0);}catch(h){o=!0,r=h}finally{try{n||null==a.return||a.return()}finally{if(o)throw r}}return e}}function r(i){if(Array.isArray(i))return i}function s(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function a(i,t){for(var e=0;e<t.length;e++){var n=t[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,n.key,n)}}function h(i,t,e){return t&&a(i.prototype,t),e&&a(i,e),i}var d=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(exports,"__esModule",{value:!0});var l=d(require("./roomMap")),f=d(require("../../utils/point")),u=d(require("../../utils/line")),c=d(require("../../utils/dimensions")),p=require("../../utils/dictionary"),m=require("../../utils/random"),g=function(){function t(i,e,n){s(this,t),this.childRooms=[],this.doors=[],this.type=p.RoomType.Default,this.ROOM_TYPE_DEFINED="Room has already defined type",this.origin=i,this.point2=e,this.config=n}return h(t,[{key:"setType",value:function(i,t){if(this.type!==p.RoomType.Default&&!t)throw Error(this.ROOM_TYPE_DEFINED);this.type=i}},{key:"setEvent",value:function(i){this.event=i}},{key:"divide",value:function(){if(this.childRooms.length>0)throw new Error("This room has already been divided");var i=this.width>this.config.divisable.width,e=this.height>this.config.divisable.height;if(!i&&!e)return"Room is not dividable";if(i&&e?Math.random()>=.5:i){var n=m.getRandomValue(this.origin.x+this.config.minDimension.width,this.point2.x-this.config.minDimension.width);this.divisionLine=new u.default(new f.default(n,this.origin.y),new f.default(n,this.point2.y)),this.childRooms.push(new t(this.origin,new f.default(n,this.point2.y),this.config),new t(new f.default(n,this.origin.y),this.point2,this.config))}else{var o=m.getRandomValue(this.origin.y+this.config.minDimension.height,this.point2.y-this.config.minDimension.height);this.divisionLine=new u.default(new f.default(this.origin.x,o),new f.default(this.point2.x,o)),this.childRooms.push(new t(this.origin,new f.default(this.point2.x,o),this.config),new t(new f.default(this.origin.x,o),this.point2,this.config))}return this.childRooms.forEach(function(i){i.divide()}),"Room divided"}},{key:"addDoor",value:function(i){this.doors.push(i),0!==this.childRooms.length&&this.childRooms.forEach(function(t){t.sides.find(function(t){return t.contains(i)})&&t.addDoor(i)})}},{key:"connect",value:function(){if(0!==this.childRooms.length){var i;if(this.divisionLine.axis===p.AXIS.VERTICAL){var t=m.getRandomValue(this.divisionLine.point1.y,this.divisionLine.point2.y-1);i=new u.default(new f.default(this.divisionLine.point1.x,t),new f.default(this.divisionLine.point2.x,t+1))}else{var e=m.getRandomValue(this.divisionLine.point1.x,this.divisionLine.point2.x-1);i=new u.default(new f.default(e,this.divisionLine.point1.y),new f.default(e+1,this.divisionLine.point2.y))}this.childRooms.forEach(function(t){t.addDoor(i),t.connect()})}}},{key:"plan",value:function(){var t=this;if(0===this.childRooms.length){for(var e=this.config.denseness,n=new l.default(new c.default(this.width,this.height)),o=new f.default(m.getRandomValue(0,e),m.getRandomValue(0,e)),r=this.width-m.getRandomValue(0,e)-1,s=this.height-m.getRandomValue(0,e)-1,a=o.y;a<s+1;a++)for(var h=o.x;h<r+1;h++)n.set(new f.default(h,a),p.Items.Floor,p.Directions.Floor);if(this.doors.forEach(function(i){var e,o,r;t.origin.x===i.point2.x&&t.origin.x===i.point1.x?(e=0,o=i.point1.y-t.origin.y,r=p.Directions.Left):t.origin.y===i.point2.y&&t.origin.y===i.point1.y?(e=i.point1.x-t.origin.x,o=0,r=p.Directions.Up):t.origin.x+t.width===i.point2.x&&t.origin.x+t.width===i.point1.x?(e=t.width-1,o=i.point1.y-t.origin.y,r=p.Directions.Right):(e=i.point1.x-t.origin.x,o=t.height-1,r=p.Directions.Down);var s=new f.default(e,o);n.set(s,p.Items.Door,r),n.findShortestRoute(s,p.Items.Floor,p.Directions.Floor).forEach(function(i){n.set(i,p.Items.Floor,p.Directions.Floor)})}),n.onEach(function(t,e,o){if(t.has(p.Items.Floor,p.Directions.Floor)){var r=new f.default(e,o);[[p.Directions.Up,r.move(0,-1)],[p.Directions.Down,r.move(0,1)],[p.Directions.Left,r.move(-1,0)],[p.Directions.Right,r.move(1,0)]].forEach(function(t){var e=i(t,2),o=e[0],s=e[1];try{n.get(s).item.has(p.Items.Floor,p.Directions.Floor)||n.set(r,p.Items.Wall,o)}catch(a){a.message===n.POINT_NOT_IN_MAP&&n.set(r,p.Items.Wall,o)}})}}),this.type===p.RoomType.Entrance){var d=n.getPossiblyNonEdgePoint();n.set(d,p.Items.Enterance,p.Directions.Center)}if(this.type===p.RoomType.Exit){var u=n.getPossiblyNonEdgePoint();n.set(u,p.Items.Exit,p.Directions.Center)}if(this.type===p.RoomType.Event){var g=n.getPossiblyNonEdgePoint();n.set(g,p.Items.Event,p.Directions.Center,p.Modifiers.Variant,this.event.variant)}this.roomMap=n}this.childRooms.forEach(function(i){return i.plan()})}},{key:"draw",value:function(){if(0===this.childRooms.length){var i=this.config,t=i.ctx,e=i.spriteMap,n=i.scale,o=this.origin.rescale(this.config.scale);this.roomMap.onEach(function(i,r,s){return i.draw(t,new f.default(o.x+r*n,o.y+s*n),new c.default(n,n),e)})}this.childRooms.forEach(function(i){return i.draw()})}},{key:"loadChildren",value:function(i){var e=this;i.divisionLine&&(this.divisionLine=new u.default(new f.default(i.divisionLine.point1.x,i.divisionLine.point1.y),new f.default(i.divisionLine.point2.x,i.divisionLine.point2.y)));try{this.setType(i.type)}catch(r){}if(i.doors.forEach(function(i){e.doors.push(new u.default(new f.default(i.point1.x,i.point1.y),new f.default(i.point2.x,i.point2.y)))}),i.childRooms.forEach(function(i){var n=new t(new f.default(i.origin.x,i.origin.y),new f.default(i.point2.x,i.point2.y),e.config);n.loadChildren(i),e.childRooms.push(n)}),!i.childRooms.length){this.roomMap=new l.default(i.roomMap.dimensions);for(var n=0;n<this.roomMap.dimensions.height;n++)for(var o=0;o<this.roomMap.dimensions.width;o++)this.roomMap.set(new f.default(o,n),i.roomMap.map[n][o].bottom.item,p.Directions.Down),this.roomMap.set(new f.default(o,n),i.roomMap.map[n][o].center.item,p.Directions.Center),this.roomMap.set(new f.default(o,n),i.roomMap.map[n][o].floor.item,p.Directions.Floor),this.roomMap.set(new f.default(o,n),i.roomMap.map[n][o].left.item,p.Directions.Left),this.roomMap.set(new f.default(o,n),i.roomMap.map[n][o].right.item,p.Directions.Right),this.roomMap.set(new f.default(o,n),i.roomMap.map[n][o].top.item,p.Directions.Up),this.roomMap.map[n][o].addModifier(p.Directions.Center,p.Modifiers.Variant,i.roomMap.map[n][o].center.modifiers[p.Modifiers.Variant])}}},{key:"width",get:function(){return Math.abs(this.origin.x-this.point2.x)}},{key:"height",get:function(){return Math.abs(this.origin.y-this.point2.y)}},{key:"sides",get:function(){return[new u.default(this.origin,new f.default(this.origin.x,this.point2.y)),new u.default(this.origin,new f.default(this.point2.x,this.origin.y)),new u.default(this.point2,new f.default(this.origin.x,this.point2.y)),new u.default(this.point2,new f.default(this.point2.x,this.origin.y))]}}]),t}();exports.default=g;
},{"./roomMap":"B1jJ","../../utils/point":"M5ms","../../utils/line":"rVWC","../../utils/dimensions":"d4El","../../utils/dictionary":"EQ3V","../../utils/random":"htcN"}],"z6eO":[function(require,module,exports) {
"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}Object.defineProperty(exports,"__esModule",{value:!0});var r=require("../../utils/dictionary"),a=function(){function t(n){e(this,t),this.type=r.EventTypes.Default,this.variant=n}return n(t,[{key:"name",get:function(){return"".concat(this.variant)}}]),t}();exports.default=a;
},{"../../utils/dictionary":"EQ3V"}],"Uqy7":[function(require,module,exports) {
module.exports={events:[{name:"Poisonous mist",description:"Green mists floats around the room. Whoever touches it gets sick."}]};
},{}],"pCP7":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t){var e=a();return function(){var n,r=s(t);if(e){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?f(e):n}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var p=require("../../utils/dictionary"),y=l(require("./dungeonEvent")),b=l(require("../../data/genericValues.json")),d=require("../../utils/random"),h=function(t){o(u,y.default);var n=i(u);function u(t){var r;return e(this,u),(r=n.call(this,t)).type=p.EventTypes.Default,r.setEvent(),r}return r(u,[{key:"setEvent",value:function(){var t=b.default.events,e=d.getRandomValue(0,t.length-1);this.desc=t[e].description,this.nameProp=t[e].name}},{key:"name",get:function(){return"".concat(this.nameProp)}},{key:"description",get:function(){return"".concat(this.desc)}}]),u}();exports.default=h;
},{"../../utils/dictionary":"EQ3V","./dungeonEvent":"z6eO","../../data/genericValues.json":"Uqy7","../../utils/random":"htcN"}],"hNZc":[function(require,module,exports) {
module.exports={specieses:["gnome","dragon","human","skeleton","mummy","elf"],adjectives:["handsome","lonely","sad","happy","angry","baby"],actions:["stands","sits","polishes a knife","stares at you"],places:["near the wall","on the floor","on the diamond throne"]};
},{}],"fpyn":[function(require,module,exports) {
"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=f();return function(){var n,r=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(t,n){return!n||"object"!==e(n)&&"function"!=typeof n?a(t):n}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var p=require("../../utils/dictionary"),y=require("../../utils/random"),h=l(require("./dungeonEvent")),d=l(require("../../data/enemyValues.json")),v=function(e){o(u,h.default);var n=i(u);function u(e){var r;return t(this,u),(r=n.call(this,e)).type=p.EventTypes.Enemy,r.strength=y.getRandomValue(10,30),r.health=y.getRandomValue(10,30),r.setSpecies(),r.setAdjective(),r.setAction(),r.setWhere(),r}return r(u,[{key:"setSpecies",value:function(){var e=d.default.specieses;this.species=e[y.getRandomValue(0,e.length-1)]}},{key:"setAdjective",value:function(){var e=d.default.adjectives;this.adjective=e[y.getRandomValue(0,e.length-1)]}},{key:"setAction",value:function(){var e=d.default.actions;this.action=e[y.getRandomValue(0,e.length-1)]}},{key:"setWhere",value:function(){var e=d.default.places;this.where=e[y.getRandomValue(0,e.length-1)]}},{key:"name",get:function(){return"The ".concat(this.adjective," ").concat(this.species)}},{key:"description",get:function(){return"\n            ".concat(this.name," ").concat(this.action," ").concat(this.where,".\n        ")}}]),u}();exports.default=v;
},{"../../utils/dictionary":"EQ3V","../../utils/random":"htcN","./dungeonEvent":"z6eO","../../data/enemyValues.json":"hNZc"}],"fC1f":[function(require,module,exports) {
module.exports={adjectives:["Shiny","Bloody","Redish"],nouns:["necklace","chestplate","helmet","sword","shield"],actions:["lays","is"],places:["on the floor","on the table near the wall","in the corner"]};
},{}],"Jd60":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function o(t,e,o){return e&&n(t.prototype,e),o&&n(t,o),t}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t){var e=f();return function(){var n,o=l(t);if(e){var r=l(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return c(this,n)}}function c(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?a(e):n}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var y=require("../../utils/dictionary"),p=s(require("./dungeonEvent")),d=s(require("../../data/itemValues.json")),h=require("../../utils/random"),v=function(t){r(u,p.default);var n=i(u);function u(t){var o;return e(this,u),(o=n.call(this,t)).type=y.EventTypes.Item,o.modifier=h.getRandomValue(1,3),o.value=50*o.modifier+h.getRandomValue(0,50),o.setAdjective(),o.setNoun(),o.setAction(),o.setWhere(),o}return o(u,[{key:"setAdjective",value:function(){var t=d.default.adjectives;this.adjective=t[h.getRandomValue(0,t.length-1)]}},{key:"setNoun",value:function(){var t=d.default.nouns;this.noun=t[h.getRandomValue(0,t.length-1)]}},{key:"setAction",value:function(){var t=d.default.actions;this.action=t[h.getRandomValue(0,t.length-1)]}},{key:"setWhere",value:function(){var t=d.default.places;this.where=t[h.getRandomValue(0,t.length-1)]}},{key:"name",get:function(){return"".concat(this.adjective," ").concat(this.noun)}},{key:"description",get:function(){return"\n            ".concat(this.name," ").concat(this.action," ").concat(this.where,"\n        ")}}]),u}();exports.default=v;
},{"../../utils/dictionary":"EQ3V","./dungeonEvent":"z6eO","../../data/itemValues.json":"fC1f","../../utils/random":"htcN"}],"csaz":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var t=e(require("./genericEvent")),r=e(require("./enemyEvent")),u=e(require("./itemEvent"));exports.default={EnemyEvent:r.default,GenericEvent:t.default,ItemEvent:u.default};
},{"./genericEvent":"pCP7","./enemyEvent":"fpyn","./itemEvent":"Jd60"}],"eRXR":[function(require,module,exports) {
module.exports={adjectives:["secret","unending","bottomless","winding","gloomy","crooked","crumbling","burnt","darkened","windswept","forgotten","quaking","overgrown","eldritch","cyclopean","legendary","isolated","degenerate","forbidden","blasted","rambling","black","shadowy","abandoned","bloody","shunned","haunted","lost","buried","forsaken","ruined","cursed","stinking","decaying","ancient","hidden","infernal","inescapable","neglected","festering","nefarious","tainted","diabolical","wretched","voracious","timeless","echoing","treacherous","stunted","cavernous","blood-soaked","maddening","desolate","eroded","rotted","elder","umber","tyrannical","empty","decomposing","monstrous","smoky","shattered","obsidian","hanging","scarred","macabre","worm-ridden","unstable","pale","perilous","unholy"],locations:["den","maze","caverns","ruins","fortress","mansion","castle","labyrinth","tomb","dungeon","grotto","gateway","warren","mine","tower","academy","menagerie","stronghold","vault","prison","excavation","asylum","laboratories","lair","hoard","sepulcher","forge","quarry","arena","tunnels","halls","observatory","temple","catacombs","barrow","pyramid","gallery","monastery","dome","apothecary","fortress","briar","fissure","refuge","manor","hearth","crater","well","hive","redoubt","armory","chambers","treasury","oubliette","workshop","abbey","mausoleum","monument","palace","haven","sanctum","vesicles","mound","crypt","barracks","garrison","pit","cathedral","citadel","library","shrine","embassy"],descriptors:["of Despair","of Isolation","of Hatred","of Lost Dreams","of Impenetrable Gloom","of the Gods","of the Inferno","of the Dragon","of the Ancestors","of Torment","in the Mists","of Shadows","of the Clouds","of Corrupted Souls","of Red Eyes","of Long Shadows","of Chattering Fangs","of the Orcs","beneath the Sands","of the Spider","of Domination","of the Warlord","of the Simmering Pools","of the Undying","of the Abyss","under Troll Mountain","of the Unquenchable Fire","of the Walking Death","of the Dispossessed","of Chaos","of the Asps","of the Insatiable Hunger","of the Skull","of the Harvest","in the Wasteland","of the Moon","of the Bloated Abomination","of the Apocalypse","of the Betrayer","on the Borderlands","of the Slave Lords","of the Berserker","under a Dark God","of the Grinding Stones","formed of Flesh and Bones","of the Mad King","before the Breached Gate","of the Penultimate Truth","of Armageddon’s Reach","of the Seven Sins","of Vile Regeneration","of the Red Right Hand","of the Black Company","of the Granite Visage","from Out of Time and Space","of the Barbed Lash","of Damnation","of the Seven Horsemen","of the Corpse Spire","of the Minotaur","of the Green Warlock","to Fate’s Gavel","of Mourning","of the Devoured Paladin","of Shuttered Horror","of the Abolished Sigil","of the Notched Skulls","in the Darklord’s Grace","of the Gathering Plague","in the Aether","in Midnight’s Shade","of the Banished Sect"]};
},{}],"MzkS":[function(require,module,exports) {
"use strict";function e(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return Math.floor(e/o)*o}function o(e){return e*Math.PI/180}Object.defineProperty(exports,"__esModule",{value:!0}),exports.degreeToRadians=exports.roundDown=void 0,exports.roundDown=e,exports.degreeToRadians=o;
},{}],"fuRH":[function(require,module,exports) {
"use strict";function e(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}function i(e,i){for(var t=0;t<i.length;t++){var a=i[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function t(e,t,a){return t&&i(e.prototype,t),a&&i(e,a),e}Object.defineProperty(exports,"__esModule",{value:!0});var a=require("../utils/dictionary"),r=require("../utils/calculate"),n=function(){function i(t,a){e(this,i),this.anchor=t,this.size=a}return t(i,[{key:"draw",value:function(e,t,n,s){var h;switch(s){case a.Directions.Down:h=r.degreeToRadians(180);break;case a.Directions.Left:h=r.degreeToRadians(270);break;case a.Directions.Right:h=r.degreeToRadians(90);break;case a.Directions.Up:default:h=r.degreeToRadians(0)}return 0===h?e.drawImage(i.image,this.anchor.x,this.anchor.y,this.size.width,this.size.height,t.x,t.y,n.width,n.height):(e.translate(t.x+n.width/2,t.y+n.height/2),e.rotate(h),e.drawImage(i.image,this.anchor.x,this.anchor.y,this.size.width,this.size.height,-n.width/2,-n.height/2,n.width,n.height),e.rotate(-h),e.translate(-(t.x+n.width/2),-(t.y+n.height/2))),this}}],[{key:"initialize",value:function(e,i){this.image.addEventListener("load",i),this.image.src=e}}]),i}();exports.default=n,n.image=new Image;
},{"../utils/dictionary":"EQ3V","../utils/calculate":"MzkS"}],"rmPI":[function(require,module,exports) {
"use strict";var e;function E(e,E,t){return E in e?Object.defineProperty(e,E,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[E]=t,e}var t=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var T=t(require("./point")),u=require("./dictionary"),n=(E(e={},u.SPRITE_TYPES.BASE,new T.default(0,0)),E(e,u.SPRITE_TYPES.WALL,new T.default(16,0)),E(e,u.SPRITE_TYPES.DOOR,new T.default(32,0)),E(e,u.SPRITE_TYPES.ENTERANCE,new T.default(0,16)),E(e,u.SPRITE_TYPES.EXIT,new T.default(16,16)),E(e,u.SPRITE_TYPES.EVENT_A,new T.default(32,16)),E(e,u.SPRITE_TYPES.EVENT_B,new T.default(0,32)),E(e,u.SPRITE_TYPES.EVENT_C,new T.default(16,32)),E(e,u.SPRITE_TYPES.EVENT_D,new T.default(32,32)),E(e,u.SPRITE_TYPES.EVENT_E,new T.default(0,48)),e);exports.default=n;
},{"./point":"M5ms","./dictionary":"EQ3V"}],"nNDm":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var t=e(require("../utils/dimensions")),r=e(require("./sprite")),i=require("../utils/dictionary"),u=e(require("../utils/spriteLocations")),n=new t.default(16,16);function s(e,t){e.set(t,new r.default(u.default[t],n))}function o(){var e=new Map;return Object.keys(i.SPRITE_TYPES).forEach(function(t){s(e,i.SPRITE_TYPES[t])}),e}exports.default=o;
},{"../utils/dimensions":"d4El","./sprite":"fuRH","../utils/dictionary":"EQ3V","../utils/spriteLocations":"rmPI"}],"FiQS":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.eventChance=exports.dangerChance=exports.lootChance=exports.minDimension=exports.divisable=exports.spriteMap=exports.DENSENESS=exports.SCALE=exports.eventEl=exports.bodyEl=exports.regenerateEl=exports.nameEl=exports.ctx=exports.canvas=void 0;var t=e(require("../utils/dimensions")),o=e(require("../app/spriteMap"));exports.canvas=document.getElementById("demoCanvas"),exports.ctx=exports.canvas?exports.canvas.getContext("2d"):null,exports.nameEl=document.getElementById("dungeon-name"),exports.regenerateEl=document.getElementById("dungeon-regenerate"),exports.bodyEl=document.querySelector("body"),exports.eventEl=document.getElementById("event-list"),exports.SCALE=35,exports.DENSENESS=1,exports.spriteMap=o.default(),exports.divisable=new t.default(16,12),exports.minDimension=new t.default(6,6),exports.lootChance=50,exports.dangerChance=50,exports.eventChance=exports.lootChance+exports.dangerChance/2;
},{"../utils/dimensions":"d4El","../app/spriteMap":"nNDm"}],"iozJ":[function(require,module,exports) {
"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e){return i(e)||o(e)||r(e)||n()}function n(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function r(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function o(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function i(e){if(Array.isArray(e))return a(e)}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=v();return function(){var n,r=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(t,n){return!n||"object"!==e(n)&&"function"!=typeof n?y(t):n}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var g=m(require("./room")),E=m(require("../../utils/point")),R=m(require("../events")),b=m(require("../events/dungeonEvent")),w=m(require("../../data/dungeonNames.json")),O=require("../../utils/random"),S=require("../../utils/dictionary"),T=require("../../data/configData"),D=R.default,j=D.EnemyEvent,A=D.ItemEvent,I=D.GenericEvent,_=function(e){l(r,g.default);var n=h(r);function r(e,t,o){var i;return s(this,r),(i=n.call(this,new E.default(0,0),e,t)).events=[],i.LOADED="Dungeon Loaded",i.CREATED="Dungeon Created",i.REQUEST_REGENRATION="RequestRegenreration",i.nameDOMEl=o,i.type=S.RoomType.Dungeon,i}return u(r,[{key:"generateName",value:function(){var e=w.default,t=e.adjectives,n=e.locations,r=e.descriptors,o=[O.getRandomValue(0,t.length-1),O.getRandomValue(0,n.length-1),O.getRandomValue(0,r.length-1)],i=o[0],a=o[1],s=o[2];this.name="The ".concat(t[i]," ").concat(n[a]," ").concat(r[s])}},{key:"presentName",value:function(){this.nameDOMEl.innerText=this.name}},{key:"setEnteranceExit",value:function(){for(var e=O.getRandomValue(0,1),t=O.getRandomValue(0,1),n=Math.abs(e-1),r=Math.abs(t-1),o=this,i=this;o.childRooms.length>0;)o=o.divisionLine.axis===S.AXIS.HORIZONTAL?o.childRooms[e]:o.childRooms[t];for(;i.childRooms.length>0;)i=i.divisionLine.axis===S.AXIS.HORIZONTAL?i.childRooms[n]:i.childRooms[r];o.setType(S.RoomType.Entrance),i.setType(S.RoomType.Exit)}},{key:"getLeaves",value:function(){var e=[];return function t(n){n.childRooms.length>0?n.childRooms.forEach(function(e){return t(e)}):e.push(n)}(this),e}},{key:"setEvents",value:function(){for(var e=[],n=0;n<T.eventChance;n++)e.push(I);for(var r=0;r<this.config.dangerChance;r++)e.push(j);for(var o=0;o<this.config.lootChance;o++)e.push(A);var i=this.getLeaves().filter(function(e){return e.type===S.RoomType.Default}).sort(function(){return O.getRandomValue(-1,1)});this.events=i.slice(0,5).reduce(function(n,r,o){var i=new(0,e[O.getRandomValue(0,e.length-1)])(o);return r.setType(S.RoomType.Event),r.setEvent(i),[].concat(t(n),[i])},[])}},{key:"save",value:function(){sessionStorage.setItem(S.StorageItems.Dungeon,JSON.stringify(this))}},{key:"create",value:function(){return this.divide(),this.connect(),this.setEnteranceExit(),this.setEvents(),this.plan(),this.draw(),this.generateName(),this.presentName(),this.save(),this.CREATED}},{key:"load",value:function(){var e=sessionStorage.getItem(S.StorageItems.Dungeon),n=JSON.parse(e);return this.point2.isSame(n.point2)?(this.events=n.events.reduce(function(e,n){var r;switch(n.type){case S.EventTypes.Enemy:(r=new j(n.variant)).health=n.health,r.strength=n.strength,r.species=n.species,r.adjective=n.adjective,r.action=n.action,r.where=n.where;break;case S.EventTypes.Item:(r=new A(n.variant)).modifier=n.modifier,r.adjective=n.adjective,r.noun=n.noun,r.action=n.action,r.where=n.where,r.value=n.value;break;case S.EventTypes.Default:(r=new I(n.variant)).desc=n.desc,r.nameProp=n.nameProp;break;default:r=new b.default(n.variant)}return[].concat(t(e),[r])},[]),this.loadChildren(n),this.draw(),this.name=n.name,this.presentName(),this.LOADED):this.create()}},{key:"init",value:function(){return sessionStorage.getItem(S.StorageItems.Dungeon)?this.load():this.create()}},{key:"clear",value:function(){this.config.ctx.clearRect(this.origin.x*this.config.scale,this.origin.y*this.config.scale,this.point2.x*this.config.scale,this.point2.y*this.config.scale),this.childRooms=[],this.doors=[]}},{key:"regenerate",value:function(){this.clear(),window.dispatchEvent(new Event(this.REQUEST_REGENRATION))}}]),r}();exports.default=_;
},{"./room":"Iqig","../../utils/point":"M5ms","../events":"csaz","../events/dungeonEvent":"z6eO","../../data/dungeonNames.json":"eRXR","../../utils/random":"htcN","../../utils/dictionary":"EQ3V","../../data/configData":"FiQS"}],"Fm76":[function(require,module,exports) {
"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var s=n(require("../utils/dimensions")),a=require("../utils/dictionary"),o=function(){function t(i,n,s,a,o,r,h,u){e(this,t),this.SAVED="Config saved",this.LOADED="Config loaded",this.divisable=i,this.minDimension=n,this.scale=s,this.ctx=a,this.spriteMap=o,this.denseness=r,this.lootChance=h,this.dangerChance=u}return i(t,[{key:"save",value:function(){return sessionStorage.setItem(a.StorageItems.Config,JSON.stringify(this)),this.SAVED}},{key:"load",value:function(){var e=sessionStorage.getItem(a.StorageItems.Config),t=JSON.parse(e);return this.scale=t.scale,this.denseness=t.denseness,this.divisable=new s.default(t.divisable.width,t.divisable.height),this.minDimension=new s.default(t.minDimension.width,t.minDimension.height),this.lootChance=t.lootChance,this.dangerChance=t.dangerChance,this.LOADED}},{key:"init",value:function(){return sessionStorage.getItem(a.StorageItems.Config)?this.load():this.save()}}]),t}();exports.default=o;
},{"../utils/dimensions":"d4El","../utils/dictionary":"EQ3V"}],"jQGp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.clearEvens=exports.generateEvents=void 0;var n=require("../data/configData"),e=require("./dictionary"),t=function(n){return'\n<h3 class="event__title">'.concat(n.variant+1,". ").concat(n.name,'</h3>\n<div class="event__description">\n    Description: ').concat(n.description,"\n</div>\n")},c=function(n){return'\n<h3 class="event__title">'.concat(n.variant+1,". ").concat(n.name,'</h3>\n<div class="event__description">\n    <div class="event__stats">\n        Strength: ').concat(n.strength,", \n        HP: ").concat(n.health,"\n    </div>\n    Description: ").concat(n.description,"\n</div>\n")},i=function(n){return'\n<h3 class="event__title">'.concat(n.variant+1,". ").concat(n.name," +").concat(n.modifier,'</h3>\n<div class="event__description">\n    <div class="event__stats">\n        Value: ').concat(n.value,"\n    </div>\n    Description: ").concat(n.description,"\n</div>\n")},a=function(n){return'\n<article class="event-list__event">\n    '.concat(n.type===e.EventTypes.Enemy?c(n):n.type===e.EventTypes.Item?i(n):t(n),"\n</article>\n")};function r(e){n.eventEl.innerHTML=e.reduce(function(n,e){return"\n        ".concat(n,"\n        ").concat(a(e),"\n        ")},"")}function s(){n.eventEl.innerHTML=""}exports.generateEvents=r,exports.clearEvens=s;
},{"../data/configData":"FiQS","./dictionary":"EQ3V"}],"SkGc":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.calculateDungeonPoint=exports.calculateCanvas=void 0;var t=e(require("./dimensions")),n=e(require("./point")),r=require("./calculate");function u(e,n,u){var a=.02*Math.max(e,n);return new t.default(r.roundDown(e-a,u),r.roundDown(n-a,u))}function a(e,t){return new n.default(e.width/t,e.height/t)}exports.calculateCanvas=u,exports.calculateDungeonPoint=a;
},{"./dimensions":"d4El","./point":"M5ms","./calculate":"MzkS"}],"GZG0":[function(require,module,exports) {
module.exports="rockyTileSet.32bc7e71.png";
},{}],"OQ9z":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var t=e(require("./app/room/dungeon")),n=e(require("./app/config")),a=e(require("./app/sprite")),i=require("./utils/manipulateDOM"),r=require("./data/configData"),c=require("./utils/canvas"),l=e(require("./imgs/rockyTileSet.png"));function u(e){r.canvas.width=e.width,r.canvas.height=e.height}a.default.initialize(l.default,function(){try{var e=new n.default(r.divisable,r.minDimension,r.SCALE,r.ctx,r.spriteMap,r.DENSENESS,r.lootChance,r.dangerChance);e.init();var a=c.calculateCanvas(r.canvas.clientWidth,r.canvas.clientHeight,e.scale),l=c.calculateDungeonPoint(a,e.scale);u(a);var o=new t.default(l,e,r.nameEl);o.init(),i.generateEvents(o.events),r.regenerateEl.addEventListener("click",function(){o.regenerate()}),r.bodyEl.addEventListener("keyup",function(e){"r"===e.key&&o.regenerate()}),window.addEventListener(o.REQUEST_REGENRATION,function(){window.location.reload(),o.create()})}catch(s){console.log(s)}});
},{"./app/room/dungeon":"iozJ","./app/config":"Fm76","./app/sprite":"fuRH","./utils/manipulateDOM":"jQGp","./data/configData":"FiQS","./utils/canvas":"SkGc","./imgs/rockyTileSet.png":"GZG0"}]},{},["OQ9z"], null)
//# sourceMappingURL=main.8ed0c06a.js.map